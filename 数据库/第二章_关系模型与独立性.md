课上听懂是最重要的  
然后会做题  
做笔记只是梳理结构,但并不重要  
不要本末倒置  
不是啥概念都记,这不是教科书  
八十的考点在百分之二十上  
会做题才是王道  
  
### 关系模型  

##### 属性列和记录(列和行)
关系模式是由[概念模型(ER图)](第三章_6设计阶段与完整性####2.概念结构设计阶段)推导而来的  
下一步就是将关系模式转化为一张表  
![](img/Pasted%20image%2020230315195747.png)
关系名=>表名  
关系模式中的属性列=>表中的列

关系模型
表由行和列构成：  
![](img/Pasted%20image%2020230315223020.png)
<font color=#66CC99 style=" font-weight:bold;">行--记录--元组--基数</font>   
<font color=#66CC99 style=" font-weight:bold;">列--属性列--数据项--元--字段</font>  

##### 行列规则
列名不能重复 ,行不能重复  
行列顺序自由  
一个列的单元不能有多个值(不可再分),且这一列的域(数据类型)是相同的    
![](img/Pasted%20image%2020230315210120.png)
![](img/Pasted%20image%2020230315210022.png)
![](img/Pasted%20image%2020230315201121.png)
![](img/Pasted%20image%2020230315210208.png)
表中的每个单元格的内容--数据--分量   
域--列的数据类型和取值范围/分量数据类型和取值 范围  
![](img/Pasted%20image%2020230314170245.png)
关系模型的特点就是表与表之间有联系,关系  
![](img/Pasted%20image%2020230314170034.png)
![](img/Pasted%20image%2020230316183248.png)
##### 关系(逻辑)模型三要素
关系模型3要素同数据模型3要素,同逻辑模式3要素  
数据结构—―描述静态信息:层次,网状,关系  
数据操作――描述动态信息数据:数据增删改查  
约束条件―—描述规约(参考[三大完整性约束](第三章_6设计阶段与完整性.md###数据库特性-完整性))  
![](img/Pasted%20image%2020230315202619.png)
![](img/Pasted%20image%2020230315202816.png)
##### 关系模型三个世界描述
参考[数据库设计的三个世界描述](第一章_数据库概念#####一、通过3个世界描述)
![](img/Pasted%20image%2020230315204500.png)
![](img/Pasted%20image%2020230315204843.png)

##### 关系模式语法格式  
关系名(属性1,  ......属性)  
常考大题  

##### 其他
![](img/Pasted%20image%2020230315223059.png)
  
  
### 码--键--分类  
![](img/Pasted%20image%2020221212145117.png)  
  
##### 超码/键/关键字  
   <font color=#66CC99 style=" font-weight:bold;">能唯一标识记录的属性或属性组合</font>    
![](img/Pasted%20image%2020230315214322.png)
![](img/Pasted%20image%2020230314170555.png)
例如：  
>  学生（学号，身份证号，姓名，性别，年龄）  
>  001    11111    张三  男   19  
002    22222    李四  女   18  
003    33333    张三  男   19  
……  
![](img/Pasted%20image%2020230314170158.png)
  
超码：学号  
身份证号  
（学号，身份证号，姓名）  
##### 候选码/键  
  能<font color=#66CC99 style=" font-weight:bold;">唯一标识记录的最精简</font>（少）的属性或属性<font color=#66CC99 style=" font-weight:bold;">组合  </font>    
    候选码：学号和身份证号  
   例如：选课（学号，课程号，成绩）          
         每个学生可以选学多门课程，每门课程可被多个学生选学，每个学生选学每门课程只有1个成绩。  
  
>选课（学号，课程号，成绩）    
 001   C01    100  
 001   C02     90  
   001   C03     80  
 002   C01     70  
 003   C01     60  
 003   C02     50  
 ……  
  
  
候选码（学号，课程号）  
![](img/Pasted%20image%2020230315214526.png)
![](img/Pasted%20image%2020230315214808.png)
>练习：学生（学号，姓名，性别，年龄，院系号）  
            001   ……              d01  
            002   ……              d01  
            003   ……              d02  
  
  
  
候选键：学号  
  
院系（院系号，院系名，系主任）  
候选键：院系号  
  
注：以上两种码在一个关系中可以有多个  
  
注：主码在一个关系中只能有1个--主码的唯一性判断：  
1、主码就是候选码（√）  
2、候选码就是主码（×）  
改：当候选码只有1个时，候选码就是主码  
  
注：以上3种码都是用来<font color=#66CC99 style=" font-weight:bold;">唯一标识记录</font>的  

##### 主键和候选键的区别  
做题中没区别  
<font color=#F09B59 style=" font-weight:bold;">主键就是候选键里挑一个</font>  
  
  
  
##### 主属性和非主属性  
主属性：<font color=#F09B59 style=" font-weight:bold;">候选码中包含的属性</font>  
非主属性：没有包含在候选码中的属性/不是主属性的属性  
注：一个关系中的属性若不是主属性那么肯定是非主属性。  
  
主属性与候选码的区别:  
候选码是一组主属性构成的,主属性可以单独拎出去给别的表当外键用  
<font color=#66CC99 style=" font-weight:bold;">候选码,关键字是由一个或多个主属性组成的</font>
![](img/Pasted%20image%2020230316191113.png)

##### 外码/键  
若某个属性不是当前关系的候选键，但却是另一个关系的候选键，那么这个属性就是当前关系的外码。  
![](img/Pasted%20image%2020230315215411.png)
>例如  
    学生（学号，姓名，性别，年龄，专业号）  
    专业（专业号，专业名，负责人）  
    关系名    属性  
  
   学生关系中的专业号是学生关系的外码  
注：外码用于标识关系与关系之间的关联  
    不是每个关系都有外码  
  
  
>例如：学生（学号，姓名，性别，年龄，院系）  
      课程（课程号，课程名，任课教师名）  
      选学（学号，课程号，成绩）  
      候选键：（学号，课程号）  
      选学关系中有两个外键，分别是学号和课程号  
  
>练习：  
     超市（超市号，超市名，超市负责人）     
     顾客（顾客号，顾客名，姓名，性别）   
     购物（超市号，顾客号，购物日期，消费金额）  
            market1  customer1  9-25  100  
            market1  customer1  9-26  200  
            每个超市都有唯一的超市号，每位顾客都有唯一的顾客号，每个超市每个顾客每天只能去1次。 
  
问题：分析每个关系的候选码和外码  
分析：超市关系的候选码是：超市号  
      顾客关系的候选码是：顾客号  
      购物关系的<font color=#66CC99 style=" font-weight:bold;">候选码</font  
      >是：（超市号，顾客号，购物日期）  
      购物关系中的<font color=#66CC99 style=" font-weight:bold;">超市号和顾客号是外码</font>     
数据操作：描述系统的动态特征，也就是对数据库         的增删改查的操作。  
  
数据约束条件：描述系统的规约，也就是数据库的3大完整性约束。  
##### 数量关系
候选码:一个或多个  
主码:有且只有一个(但主键中包含的属性可以有多个)   
外键:0个或多个  
![](img/Pasted%20image%2020230316190706.png)
### 其他题目
1 ．数据模型的三要素是指(数据结构).(数据操作),(数据规约)。  
2.数据模型中的(数据结构)是对数据系统的静态特征描述,包括数据结构和数据间联系的描述。  
3．数据模型中的(数据操作)是对数据库系统的动态特征描述,是一组定义在数据上的操作,包括操作的涵义、操作、符、运算规则及其语言等。  
4．用有向图结构表示实体类型及实体间联系的数据模型称为(网状型)模型,数据之间的联系通常通过(指针)实现。  
5．层次模型的上层实体和下层实体之间表现为(1:N和1:1)联系。   
6 . (关系模型)是目前最常用也是最重要的一种数据模型。采用该模型作为数据的组织方式的数据库系统称为(关系型数据库)。   
7．关系的完整性约束条件包括三大类:(实体完整性约束)、(参照完整性约束)和(用户定义完整性约束)。   
8．关系操作的特点是(集合)操作。   
9．关系数据模型中,二维表的列称为(字段,数据项),二维表的行称为(元祖,记录)。
10．用户选作元组标识的一个候选关键字为(主关键字),其属性不能取(空)  
17．实际数据库系统中所支持的主要数据模型是(层次型)(网状型).(关系型)  
18 ．客观存在并相互区别的事物或抽象的概念称为(实体)。  
19 .实体集之间的对应关系称为(联系)。  





### 数据库特性-独立性  
通过数据库的三级模式和二级映像的体系结构充分保证的  
![](img/Pasted%20image%2020221212141959.png)  
![](img/Pasted%20image%2020230314133940.png) 
考点：  
##### 三级模式和二级映像的体系结构的重要意义？  
充分支持了数据库的独立性  
![](img/Pasted%20image%2020230314135358.png)
![](img/Pasted%20image%2020230314134014.png)
##### 三级模式分别是什么？有什么名称？  
   <font color=#66CC99 style=" font-weight:bold;">外模式</font>--用户模式--<font color=#66CC99 style=" font-weight:bold;">局部逻辑结构--视图--子模式 </font>   
   (逻辑)<font color=#66CC99 style=" font-weight:bold;">模式</font>--<font color=#66CC99 style=" font-weight:bold;">全局逻辑结构</font>    
   <font color=#66CC99 style=" font-weight:bold;">内模式</font>--存储模式--<font color=#66CC99 style=" font-weight:bold;">物理模式</font>    
![](img/Pasted%20image%2020230314141035.png)
![](img/Pasted%20image%2020230314140118.png)

![](img/Pasted%20image%2020230315233002.png)
##### 各个模式的数量对应关系  
   外模式可以有多个，每一个外模式可以对应多个应用程序；模式和内模式都只能有1个。  
  应用和外模式联系类型是M：1  
  外模式和模式联系类型是N：1  
  模式和内模式联系类型是1:1  
  <font color=#66CC99 style=" font-weight:bold;">内模式和模式只有一个,外模式(视图)有多个</font>  
![](img/Pasted%20image%2020230314140049.png)
##### 独立性是什么？如何实现对独立性的充分支持？  
   所谓独立性就是应用程序不会因为数据库的模式和内模式的改变而受到影响。  
   独立性可以分为：  
（1）<font color=#66CC99 style=" font-weight:bold;">物理独立性</font>  
    应用程序不会因为数据库的内模式的改变而受到影响。通过：模式/<font color=#66CC99 style=" font-weight:bold;">内模式</font>映像实现  ,也就是:数据库内模式改变不会影响应用程序
![](img/Pasted%20image%2020230314143338.png)
（2）<font color=#66CC99 style=" font-weight:bold;">逻辑独立性</font>  
    应用程序不会因为数据库的模式的改变而受到影响。通过：模式/<font color=#66CC99 style=" font-weight:bold;">外模式</font>映像实现  
      也就是数据库的模式改变不会影响到应用程序
  ![](img/Pasted%20image%2020230314143826.png)


![](img/Pasted%20image%2020230314141145.png)
![](img/Pasted%20image%2020230314143624.png)
练习：  
无论是物理独立性还是逻辑独立性都是保证（应用程序）不受到其他因素的影响。  
  
联系所关联的实体有几个，就将联系描述成是几元联系。  
  
  
  
